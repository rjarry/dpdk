v6 -> v7:

* Moved lcore role enum to name conversion in a function for reuse
* Style fixes
